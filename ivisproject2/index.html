<!doctype html>
<meta charset="utf-8">
<script src="http://d3plus.org/js/d3.js"></script>
<script src="http://d3plus.org/js/topojson.js"></script>
<script src="http://d3plus.org/js/d3plus.js"></script>

<script type="text/javascript" src="data.js"></script>

<!-- create container element for visualization -->
<div id="buttons">
    <button onclick="hideshow('2014');">2010-2014</button>
    <button onclick="hideshow('2009');">2005-2009</button>
</div>
<div id="viz2014" style="display: block"></div>
<div id="viz2009" style="display: none"></div>

<script>
  // instantiate d3plus
  var vis2014 = d3plus.viz()
    .container("#viz2014")        // container DIV to hold the visualization
    .data(data2014)        // data to use with the visualization
    .coords("http://d3plus.org/topojson/countries.json") // pass topojson coordinates
    .type("geo_map")          // visualization type
    .id("Code")            // key for which our data is unique on
    .text("Country")             // key to use for display text
    .color("Year")           // key for coloring countries
    .tooltip(["Religion is important", "Religion is not important", "Believe in God", "Doesnt believe in God", "Believe in Hell", "Doesnt believe in Hell", "Children with religious faith", "Children without religious faith"])         // keys to place in tooltip
    .draw()


    var vis2009 = d3plus.viz()
    .container("#viz2009")        // container DIV to hold the visualization
    .data(data2009)        // data to use with the visualization
    .coords("http://d3plus.org/topojson/countries.json") // pass topojson coordinates
    .type("geo_map")          // visualization type
    .id("Code")            // key for which our data is unique on
    .text("Country")             // key to use for display text
    .color("Year")           // key for coloring countries
    .tooltip(["Religion is important", "Religion is not important", "Believe in God", "Doesnt believe in God", "Believe in Hell", "Doesnt believe in Hell", "Children with religious faith", "Children without religious faith"])         // keys to place in tooltip
    .draw()                   // finally, draw the visualization!

function hideshow(z) {
    var div2014 = document.getElementById("viz2014");
    var div2009 = document.getElementById("viz2009");
    div2014.style.display = "none";
    div2009.style.display = "none";
    switch (z)
    {
        case '2014': div2014.style.display = "block"; break;
        case '2009': div2009.style.display = "block"; break;
    }
}

</script>
